{"version":3,"sources":["webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?daff","webpack:///./src/views/Login.vue"],"names":["Login","data","_this","this","loginForm","username","password","signupForm","passwordConfirm","signupRules","required","message","min","max","validator","rule","value","callback","Error","trigger","showLogin","methods","handleLogin","_this2","JSON","parse","stringify_default","Object","user","then","res","code","$message","showClose","type","localStorage","setItem","console","log","$store","commit","$router","back","handleSignup","_this3","$refs","validate","vaild","confirm_password","created","views_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","label-width","label","prop","placeholder","$$v","$set","expression","on","click","$event","rules","label-position","status-icon","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.fa87dcfbf1ecaf027346.js","sourcesContent":["<template>\n  <div>\n    <h2 class=\"from_title\">晓得不 社区</h2>\n    <el-card v-if=\"showLogin\" class=\"form_card\">\n      <el-form :model=\"loginForm\" ref=\"loginForm\" label-width=\"100px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"loginForm.username\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"handleLogin\">登陆</el-button>\n        <el-button @click=\"showLogin=false\">注册</el-button>\n      </el-form>\n    </el-card>\n    <el-card v-else class=\"form_card\">\n      <el-form\n        :rules=\"signupRules\"\n        label-position=\"left\"\n        :model=\"signupForm\"\n        ref=\"signupForm\"\n        label-width=\"100px\"\n        status-icon\n      >\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"signupForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"signupForm.password\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"passwordConfirm\">\n          <el-input type=\"password\" v-model=\"signupForm.passwordConfirm\"></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"handleSignup\">注册</el-button>\n        <el-button @click=\"showLogin=true\">返回登陆</el-button>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n<script>\nimport { login, signup } from \"@/api/user\";\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: \"xiaop\",\n        password: \"123456\"\n      },\n      signupForm: {\n        username: \"\",\n        password: \"\",\n        passwordConfirm: \"\"\n      },\n      signupRules: {\n        username: [\n          {\n            required: true,\n            message: \"用户名不能为空\"\n          },\n          { min: 3, max: 15, message: \"长度在3到15个字符\" }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\"\n          },\n          { min: 3, max: 15, message: \"长度在3到15个字符\" }\n        ],\n        passwordConfirm: [\n          {\n            required: true,\n            message: \"请确认密码\"\n          },\n          {\n            validator: (rule, value, callback) => {\n              if (value !== this.signupForm.password)\n                callback(new Error(\"密码输入不一致\"));\n              callback();\n            },\n            trigger: \"change\"\n          }\n        ]\n      },\n      showLogin: true\n    };\n  },\n  methods: {\n    handleLogin() {\n      const data = JSON.parse(JSON.stringify(this.loginForm));\n      login(data).then(res => {\n        if (res.code !== 1000){\n          this.$message({\n              showClose: true,\n              message: res.message,\n              type: \"error\"\n            });\n        }else{\n          this.$message({\n              showClose: true,\n              message: \"登陆成功\",\n              type: \"success\"\n        })\n         localStorage.setItem('loginResult', JSON.stringify(res.data));\n         console.log(res.data)\n         this.$store.commit(\"login\", res.data);\n         this.$router.back();\n        }\n      });\n    },\n    handleSignup() {\n      this.$refs.signupForm.validate(vaild => {\n        if (vaild) {\n          const data = {\n            username: this.signupForm.username,\n            password: this.signupForm.password,\n            confirm_password: this.signupForm.passwordConfirm\n          };\n          signup(data).then(res => {\n            console.log(res);\n            if (res.code === 1000) {\n              this.loginForm.username = data.username;\n              this.loginForm.password = data.password;\n              this.showLogin = true;\n              this.$message({\n                showClose: true,\n                message: \"注册成功\",\n                type: \"success\"\n              });\n            }\n          });\n          console.log(data);\n        }\n      });\n    }\n  },\n  created() {}\n};\n</script>\n<style lang=\"less\">\n.from_title {\n  margin-top: 50px;\n}\n.form_card {\n  width: 600px;\n  margin: 5px auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"from_title\"},[_vm._v(\"晓得不 社区\")]),_vm._v(\" \"),(_vm.showLogin)?_c('el-card',{staticClass:\"form_card\"},[_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登陆\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.showLogin=false}}},[_vm._v(\"注册\")])],1)],1):_c('el-card',{staticClass:\"form_card\"},[_c('el-form',{ref:\"signupForm\",attrs:{\"rules\":_vm.signupRules,\"label-position\":\"left\",\"model\":_vm.signupForm,\"label-width\":\"100px\",\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.signupForm.username),callback:function ($$v) {_vm.$set(_vm.signupForm, \"username\", $$v)},expression:\"signupForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.signupForm.password),callback:function ($$v) {_vm.$set(_vm.signupForm, \"password\", $$v)},expression:\"signupForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"passwordConfirm\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.signupForm.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.signupForm, \"passwordConfirm\", $$v)},expression:\"signupForm.passwordConfirm\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSignup}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.showLogin=true}}},[_vm._v(\"返回登陆\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11a2bb3a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11a2bb3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11a2bb3a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}