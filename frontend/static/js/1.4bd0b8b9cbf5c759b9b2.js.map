{"version":3,"sources":["webpack:///src/components/Chat.vue","webpack:///./src/components/Chat.vue?913e","webpack:///./src/components/Chat.vue","webpack:///src/views/People.vue","webpack:///./src/views/People.vue?02cf","webpack:///./src/views/People.vue","webpack:///src/components/AnswerInfo.vue","webpack:///./src/components/AnswerInfo.vue?0bb5","webpack:///./src/components/AnswerInfo.vue","webpack:///src/components/ActivityInfo.vue","webpack:///./src/components/ActivityInfo.vue?5bf3","webpack:///./src/components/ActivityInfo.vue","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///src/components/UserInfoTable.vue","webpack:///./src/components/UserInfoTable.vue?bb4a","webpack:///./src/components/UserInfoTable.vue","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js"],"names":["Chat","name","data","msg","userInfo","userInfos","messages","components","userInfoSmall","methods","handleSendMessage","message","dstId","this","chatWebSocket","send","stringify_default","$store","getters","messageGroup","get","messageStyle","val","color","updateMessages","_this","peopleIds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","_ref","value","_ref2","slicedToArray_default","userId","push","err","return","Object","user","then","res","created","peopleUserInfo","computed","nickname","valueChange","watch","_this2","setTimeout","obj","$refs","scrollTop","scrollHeight","props","components_Chat","render","_vm","_h","$createElement","_c","_self","staticStyle","width","background-color","height","staticClass","_l","userInfot","key","on","click","$event","margin-top","attrs","_v","body-style","padding","slot","_s","ref","index","text-align","style","$getTimeString","gmtCreate","float","placeholder","model","callback","$$v","expression","_e","staticRenderFns","src_components_Chat","__webpack_require__","normalizeComponent","ssrContext","People","loading","subscribeQuestions","activityInfos","questionInfos","page","limit","colors","tabindex","firstLoadUserInfos","firstLoadFollowerInfos","showChat","ActivityInfo","UserInfoTable","init","peopleId","load","params","concat","length","console","log","handleFollow","_this3","followed","followersCount","handleSelect","keyPath","handleOpenChat","commit","handleCloseChat","handleUpdateAuthority","authority","_this4","questionActivityInfos","_this5","forEach","questionInfo","activityInfo","$questionInfo2ActvityInfo","isSuperAdmin","avaterUrl","$avaterUrl","avater","sexStr","isMe","sex","Number","$route","menu","_this6","views_People","font-size","src","margin-right","show-timeout","trigger","cursor","line-height","nativeOn","border-right","content","placement","followCount","intro","border-bottom","default-active","mode","select","item","directives","rawName","infinite-scroll-disabled","visible","before-close","update:visible","People_Component","People_normalizeComponent","__webpack_exports__","AnswerInfo","attitude","isShowAll","answerStyle","maxHeight","mounted","answer","showAll","components_AnswerInfo","domProps","innerHTML","answerInfo","ans","type","icon","UserInfoSmall","actionStrs","toQuestion","window","open","$router","resolve","path","query","question_id","info","answer_id","href","actionStr","activity","act","hasQuestion","indexOf","hasAnswer","hasPeople","answerId","defaultAnswer","components_ActivityInfo","caption","ActivityInfo_Component","ActivityInfo_normalizeComponent","classof","ITERATOR","Iterators","module","exports","isIterable","it","O","hasOwnProperty","default","__esModule","_isIterable3","_interopRequireDefault","_getIterator3","arr","i","Array","isArray","_arr","_n","_d","_i","sliceIterator","TypeError","anObject","getIterator","iterFn","call","pageSize","currentPage","userInfoDatas","slice","UserInfo","components_UserInfoTable","current-page","page-size","layout","total","update:currentPage","update:current-page","Component"],"mappings":"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","file":"static/js/1.4bd0b8b9cbf5c759b9b2.js","sourcesContent":["<template>\r\n  <div style=\"width:600px;background-color: white;height:600px;\">\r\n    <div class=\"userInfos_div\">\r\n      <div\r\n        v-for=\"userInfot in userInfos\"\r\n        :key=\"userInfot.user.userId\"\r\n        @click=\"userInfo=userInfot\"\r\n        class=\"userInfos_div_div\"\r\n      >\r\n        <div>\r\n          <userInfoSmall :userInfo=\"userInfot\" style=\"margin-top:10px;\"></userInfoSmall>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-card v-if=\"userInfo\" :body-style=\"{ padding: '10px' }\" class=\"chat_card\">\r\n      <div slot=\"header\">\r\n        <span>{{userInfo.user.nickname}}</span>\r\n      </div>\r\n      <div ref=\"messages\" class=\"message_div\">\r\n        <div v-for=\"(message,index) in messages\" :key=\"index\">\r\n          <div\r\n            :style=\"messageStyle(message.dstId===userId)\"\r\n            style=\"text-align:left;margin-top:10px;\"\r\n          >\r\n            <div>{{message.dstId===userId?userInfo.user.nickname:nickname}} {{$getTimeString(message.gmtCreate)}}</div>\r\n            <div>{{message.msg}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style=\"margin-top:10px;\">\r\n        <el-input v-model=\"msg\" placeholder=\"聊天内容\" style=\"float:left;width:300px;\"></el-input>\r\n        <el-button @click=\"handleSendMessage\" style=\"float:right;\">发送</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport userInfoSmall from \"../components/UserInfoSmall\";\r\nimport { queryUserInfos } from \"@/api/user\";\r\nexport default {\r\n  name: \"Chat\",\r\n  data() {\r\n    return {\r\n      msg: \"\",\r\n      userInfo: null,\r\n      userInfos: [],\r\n      messages: []\r\n    };\r\n  },\r\n  components: {\r\n    userInfoSmall\r\n  },\r\n  methods: {\r\n    handleSendMessage() {\r\n      const message = {\r\n        dstId: this.dstId,\r\n        msg: this.msg\r\n      };\r\n      this.chatWebSocket.send(JSON.stringify(message));\r\n      this.msg = \"\";\r\n      this.messages = this.$store.getters.messageGroup.get(this.dstId);\r\n    },\r\n    messageStyle(val) {\r\n      return {\r\n        color: val ? \"blue\" : \"green\"\r\n      };\r\n    },\r\n    updateMessages() {\r\n      const messageGroup = this.$store.getters.messageGroup;\r\n      const peopleIds = [];\r\n      for (const [userId, messages] of messageGroup) {\r\n        peopleIds.push(userId);\r\n      }\r\n      queryUserInfos(peopleIds).then(res => {\r\n        this.userInfos = res;\r\n      });\r\n      if (this.dstId)\r\n        this.messages = this.$store.getters.messageGroup.get(this.dstId);\r\n    }\r\n  },\r\n  created() {\r\n    if (this.peopleUserInfo) {\r\n      this.userInfo = this.peopleUserInfo;\r\n    }\r\n    this.updateMessages();\r\n  },\r\n  computed: {\r\n    userId() {\r\n      return this.$store.getters.userId;\r\n    },\r\n    chatWebSocket() {\r\n      return this.$store.getters.chatWebSocket;\r\n    },\r\n    dstId() {\r\n      return this.userInfo ? this.userInfo.user.userId : null;\r\n    },\r\n    nickname() {\r\n      return this.$store.getters.user.nickname;\r\n    },\r\n    valueChange() {\r\n      return this.$store.getters.valueChange;\r\n    }\r\n  },\r\n  watch: {\r\n    dstId(val) {\r\n      if (val) this.messages = this.$store.getters.messageGroup.get(val);\r\n    },\r\n    valueChange(val) {\r\n      this.updateMessages();\r\n    },\r\n    messages(val) {\r\n      setTimeout(() => {\r\n        var obj = this.$refs.messages;\r\n        obj.scrollTop = obj.scrollHeight;\r\n      }, 500);\r\n    }\r\n  },\r\n  props: [\"peopleUserInfo\"]\r\n};\r\n</script>\r\n<style scoped>\r\n.chat_card {\r\n  width: 398px;\r\n  height: 598px;\r\n  float: left;\r\n}\r\n.message_div {\r\n  height: 470px;\r\n  overflow: auto;\r\n}\r\n.userInfos_div {\r\n  overflow: auto;\r\n  float: left;\r\n  background-color: white;\r\n  height: 600px;\r\n  width: 200px;\r\n}\r\n.userInfos_div_div {\r\n  margin-left: 10px;\r\n  height: 50px;\r\n  clear: both;\r\n  cursor: pointer;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Chat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"600px\",\"background-color\":\"white\",\"height\":\"600px\"}},[_c('div',{staticClass:\"userInfos_div\"},_vm._l((_vm.userInfos),function(userInfot){return _c('div',{key:userInfot.user.userId,staticClass:\"userInfos_div_div\",on:{\"click\":function($event){_vm.userInfo=userInfot}}},[_c('div',[_c('userInfoSmall',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"userInfo\":userInfot}})],1)])}),0),_vm._v(\" \"),(_vm.userInfo)?_c('el-card',{staticClass:\"chat_card\",attrs:{\"body-style\":{ padding: '10px' }}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.user.nickname))])]),_vm._v(\" \"),_c('div',{ref:\"messages\",staticClass:\"message_div\"},_vm._l((_vm.messages),function(message,index){return _c('div',{key:index},[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-top\":\"10px\"},style:(_vm.messageStyle(message.dstId===_vm.userId))},[_c('div',[_vm._v(_vm._s(message.dstId===_vm.userId?_vm.userInfo.user.nickname:_vm.nickname)+\" \"+_vm._s(_vm.$getTimeString(message.gmtCreate)))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(message.msg))])])])}),0),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-input',{staticStyle:{\"float\":\"left\",\"width\":\"300px\"},attrs:{\"placeholder\":\"聊天内容\"},model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=$$v},expression:\"msg\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":_vm.handleSendMessage}},[_vm._v(\"发送\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ffcae902\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Chat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ffcae902\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Chat.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ffcae902\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Chat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ffcae902\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Chat.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div v-if=\"userInfo!=null\" style=\"text-align: left;\">\r\n    <div class=\"user_card\" style=\"font-size:15px;\">\r\n      <div class=\"user_avater_border\">\r\n        <img :src=\"avaterUrl\" class=\"user_avater\" />\r\n      </div>\r\n      <div style=\"width:612px;float:left;padding: 10px 0 10px;\">\r\n        <el-dropdown :show-timeout=\"0\" trigger=\"click\" style=\"float: right;margin-right:20px;\">\r\n          <span>\r\n            <i class=\"el-icon-more\" style=\"color:gray;cursor: pointer;line-height:50px;\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item\r\n              v-if=\"isSuperAdmin&&userInfo.user.authority===1\"\r\n              @click.native=\"handleUpdateAuthority(0)\"\r\n            >取消社区管理员</el-dropdown-item>\r\n            <el-dropdown-item\r\n              v-if=\"isSuperAdmin&&userInfo.user.authority===0\"\r\n              @click.native=\"handleUpdateAuthority(1)\"\r\n            >设为社区管理员</el-dropdown-item>\r\n            <el-dropdown-item @click.native=\"handleFollow\">{{userInfo.followed?'已':''}}关注</el-dropdown-item>\r\n            <el-dropdown-item @click.native=\"handleOpenChat\">发消息</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <div>\r\n          <div style=\"float:right;text-align:center;width:200px;\">\r\n            <div class=\"follow_div\" style=\"width:99px;border-right: 1px solid #ebebeb;\">\r\n              <div>关注{{sexStr}}</div>\r\n              <el-tooltip :content=\"''+userInfo.followersCount\" placement=\"left-start\">\r\n                <b class=\"follow_div_b\">{{userInfo.followersCount}}</b>\r\n              </el-tooltip>\r\n            </div>\r\n            <div class=\"follow_div\" style=\"width:100px;\">\r\n              <div>{{sexStr}}关注</div>\r\n              <el-tooltip :content=\"''+userInfo.followCount\" placement=\"right-start\">\r\n                <b class=\"follow_div_b\">{{userInfo.followCount}}</b>\r\n              </el-tooltip>\r\n            </div>\r\n          </div>\r\n          <b style=\"line-height:50px;height:50px;font-size:30px;\">{{userInfo.user.nickname}}</b>\r\n          <div class=\"user_detail\">\r\n            <div class=\"user_detail_value\">{{userInfo.user.intro}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"activities_div_div user_card\">\r\n      <div style=\"text-align:center;border-bottom: 1px solid #ebebeb;\">\r\n        <el-menu :default-active=\"tabindex\" mode=\"horizontal\" @select=\"handleSelect\">\r\n          <el-menu-item v-for=\"(item,index) in menu\" :key=\"index\" :index=\"''+index\">\r\n            <span>{{item}}</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </div>\r\n      <div\r\n        class=\"activities_div\"\r\n        v-show=\"tabindex==='0'\"\r\n        v-infinite-scroll=\"load\"\r\n        infinite-scroll-disabled=\"loading\"\r\n      >\r\n        <div v-for=\"(activityInfo,index) in activityInfos\" :key=\"index\">\r\n          <ActivityInfo :activityInfo=\"activityInfo\" />\r\n          <el-divider class=\"divider\"></el-divider>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"tabindex==='1'||tabindex==='2'\" class=\"activities_div\">\r\n        <div v-for=\"(activityInfo,index) in questionActivityInfos\" :key=\"index\">\r\n          <ActivityInfo :activityInfo=\"activityInfo\" />\r\n          <el-divider class=\"divider\"></el-divider>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"tabindex==='3'\" class=\"activities_div\">\r\n        <div v-for=\"(activityInfo,index) in subscribeQuestions\" :key=\"index\">\r\n          <ActivityInfo :activityInfo=\"activityInfo\" />\r\n          <el-divider class=\"divider\"></el-divider>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"tabindex==='4'||tabindex==='5'\">\r\n        <UserInfoTable :userInfos=\"userInfos\" />\r\n      </div>\r\n    </div>\r\n    <el-dialog :visible.sync=\"showChat\" :before-close=\"handleCloseChat\" class=\"chat_dialog\">\r\n      <Chat v-if=\"showChat\" :peopleUserInfo=\"userInfo\" />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getUserInfo,\r\n  queryPeopleActivities,\r\n  saveFollow,\r\n  deleteFollow,\r\n  queryUserInfosByFollowerId,\r\n  queryFollowerInfosByPeopleId,\r\n  queryAnswersByUserId,\r\n  queryQuestionsByUserId,\r\n  updateAuthority,\r\n  querySubscribeQuestionsByUserId\r\n} from \"@/api/user\";\r\nimport Chat from \"../components/Chat\";\r\nimport UserInfoTable from \"../components/UserInfoTable\";\r\nimport ActivityInfo from \"../components/ActivityInfo\";\r\nexport default {\r\n  name: \"people\",\r\n  data() {\r\n    return {\r\n      userInfo: null,\r\n      loading: false,\r\n      subscribeQuestions: [],\r\n      activityInfos: [],\r\n      questionInfos: [],\r\n      page: 0,\r\n      limit: 10,\r\n      colors: [\"#DD0000\", \"brown\", \"#0000DD\", \"#48B753\", \"#DDA522\", \"green\"],\r\n      userInfos: [],\r\n      tabindex: \"0\",\r\n      firstLoadUserInfos: false,\r\n      firstLoadFollowerInfos: false,\r\n      showChat: false\r\n    };\r\n  },\r\n  components: {\r\n    ActivityInfo,\r\n    Chat,\r\n    UserInfoTable\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.peopleId != null) {\r\n        this.userInfo = null;\r\n        this.loading = false;\r\n        this.page = 0;\r\n        this.activityInfos = [];\r\n        this.userInfos = [];\r\n        this.firstLoadUserInfos = false;\r\n        this.firstLoadFollowerInfos = false;\r\n        getUserInfo({\r\n          peopleId: this.peopleId\r\n        }).then(res => {\r\n          this.userInfo = res;\r\n        });\r\n      }\r\n    },\r\n    load() {\r\n      if (this.loading) return;\r\n      this.loading = true;\r\n      var params = {\r\n        peopleId: this.peopleId,\r\n        page: this.page,\r\n        limit: this.limit\r\n      };\r\n      queryPeopleActivities(params).then(res => {\r\n        this.activityInfos = this.activityInfos.concat(res);\r\n        ++this.page;\r\n        if (res.length < this.limit) {\r\n          console.log(\"暂时没有更多了\");\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            console.log(\"冷却完成\");\r\n          }, 1000);\r\n        } else this.loading = false;\r\n      });\r\n    },\r\n    handleFollow() {\r\n      const params = {\r\n        peopleId: this.peopleId\r\n      };\r\n      if (this.userInfo.followed) {\r\n        deleteFollow(params).then(res => {\r\n          if (res === true) {\r\n            --this.userInfo.followersCount;\r\n            this.userInfo.followed = false;\r\n          }\r\n        });\r\n      } else {\r\n        saveFollow(params).then(res => {\r\n          if (res === true) {\r\n            ++this.userInfo.followersCount;\r\n            this.userInfo.followed = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleSelect(key, keyPath) {\r\n      this.tabindex = key;\r\n    },\r\n    handleOpenChat() {\r\n      this.$store.commit(\"readMessage\");\r\n      this.showChat = true;\r\n    },\r\n    handleCloseChat() {\r\n      this.$store.commit(\"closeMessage\");\r\n      this.showChat = false;\r\n    },\r\n    handleUpdateAuthority(authority) {\r\n      const data = {\r\n        userId: this.peopleId,\r\n        authority: authority\r\n      };\r\n      updateAuthority(data).then(res => {\r\n        if (res === true) this.userInfo.user.authority = authority;\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    questionActivityInfos() {\r\n      const activityInfos = [];\r\n      this.questionInfos.forEach(questionInfo => {\r\n        const activityInfo = this.$questionInfo2ActvityInfo(questionInfo);\r\n        activityInfos.push(activityInfo);\r\n      });\r\n      return activityInfos;\r\n    },\r\n    isSuperAdmin() {\r\n      return this.$store.getters.authority === 2;\r\n    },\r\n    avaterUrl() {\r\n      return this.$avaterUrl(\r\n        this.userInfo.user.avater,\r\n        this.userInfo.user.userId\r\n      );\r\n    },\r\n    userId() {\r\n      return this.$store.getters.userId;\r\n    },\r\n    sexStr() {\r\n      if (this.isMe) return \"我\";\r\n      switch (this.userInfo.user.sex) {\r\n        case 0:\r\n          return \"他\";\r\n        case 1:\r\n          return \"她\";\r\n        default:\r\n          return \"ta\";\r\n      }\r\n    },\r\n    peopleId() {\r\n      return Number(this.$route.params.peopleId);\r\n    },\r\n    isMe() {\r\n      return this.peopleId === this.userId;\r\n    },\r\n    menu() {\r\n      return [\r\n        \"动态\",\r\n        \"回答\",\r\n        \"提问\",\r\n        \"订阅\",\r\n        \"关注\" + this.sexStr + \"的\",\r\n        this.sexStr + \"关注的\"\r\n      ];\r\n    }\r\n  },\r\n  watch: {\r\n    tabindex(val) {\r\n      const params = {\r\n        peopleId: this.peopleId\r\n      };\r\n      this.page = 0;\r\n      if (val === \"1\") {\r\n        queryAnswersByUserId(params).then(res => {\r\n          this.questionInfos = res;\r\n        });\r\n      } else if (val === \"2\") {\r\n        queryQuestionsByUserId(params).then(res => {\r\n          this.questionInfos = res;\r\n        });\r\n      } else if (val === \"3\") {\r\n        querySubscribeQuestionsByUserId(params).then(res => {\r\n          this.subscribeQuestions = res;\r\n        });\r\n      } else if (val === \"4\") {\r\n        queryFollowerInfosByPeopleId(params).then(res => {\r\n          this.userInfos = res;\r\n        });\r\n      } else if (val === \"5\") {\r\n        queryUserInfosByFollowerId(params).then(res => {\r\n          this.userInfos = res;\r\n        });\r\n      } else {\r\n        this.userInfos = [];\r\n      }\r\n    },\r\n    peopleId(val) {\r\n      this.init();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.user_avater {\r\n  width: 160px;\r\n  padding: 4px;\r\n  height: 160px;\r\n  border-radius: 5%;\r\n}\r\n.user_avater_border {\r\n  margin: 10px;\r\n  background-color: gray;\r\n  width: 168px;\r\n  height: 168px;\r\n  border-radius: 5%;\r\n  float: left;\r\n}\r\n.user_card {\r\n  background-color: #ffffff;\r\n  float: left;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n}\r\n.user_detail {\r\n  float: left;\r\n  text-align: left;\r\n  width: 532px;\r\n}\r\n.user_detail > * {\r\n  float: left;\r\n  clear: left;\r\n  margin-top: 10px;\r\n}\r\n.activities_div {\r\n  max-height: 580px;\r\n  overflow: auto;\r\n  padding: 10px;\r\n}\r\n.activities_div_div {\r\n  width: 800px;\r\n  margin-top: 10px;\r\n  float: left;\r\n}\r\n.activities_div_div > ::-webkit-scrollbar {\r\n  width: 0;\r\n  background-color: transparent;\r\n}\r\n.follow_div {\r\n  float: left;\r\n  height: 50px;\r\n}\r\n.follow_div_b {\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/People.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.userInfo!=null)?_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticClass:\"user_card\",staticStyle:{\"font-size\":\"15px\"}},[_c('div',{staticClass:\"user_avater_border\"},[_c('img',{staticClass:\"user_avater\",attrs:{\"src\":_vm.avaterUrl}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"612px\",\"float\":\"left\",\"padding\":\"10px 0 10px\"}},[_c('el-dropdown',{staticStyle:{\"float\":\"right\",\"margin-right\":\"20px\"},attrs:{\"show-timeout\":0,\"trigger\":\"click\"}},[_c('span',[_c('i',{staticClass:\"el-icon-more\",staticStyle:{\"color\":\"gray\",\"cursor\":\"pointer\",\"line-height\":\"50px\"}})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[(_vm.isSuperAdmin&&_vm.userInfo.user.authority===1)?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleUpdateAuthority(0)}}},[_vm._v(\"取消社区管理员\")]):_vm._e(),_vm._v(\" \"),(_vm.isSuperAdmin&&_vm.userInfo.user.authority===0)?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleUpdateAuthority(1)}}},[_vm._v(\"设为社区管理员\")]):_vm._e(),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleFollow($event)}}},[_vm._v(_vm._s(_vm.userInfo.followed?'已':'')+\"关注\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleOpenChat($event)}}},[_vm._v(\"发消息\")])],1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"float\":\"right\",\"text-align\":\"center\",\"width\":\"200px\"}},[_c('div',{staticClass:\"follow_div\",staticStyle:{\"width\":\"99px\",\"border-right\":\"1px solid #ebebeb\"}},[_c('div',[_vm._v(\"关注\"+_vm._s(_vm.sexStr))]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"content\":''+_vm.userInfo.followersCount,\"placement\":\"left-start\"}},[_c('b',{staticClass:\"follow_div_b\"},[_vm._v(_vm._s(_vm.userInfo.followersCount))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"follow_div\",staticStyle:{\"width\":\"100px\"}},[_c('div',[_vm._v(_vm._s(_vm.sexStr)+\"关注\")]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"content\":''+_vm.userInfo.followCount,\"placement\":\"right-start\"}},[_c('b',{staticClass:\"follow_div_b\"},[_vm._v(_vm._s(_vm.userInfo.followCount))])])],1)]),_vm._v(\" \"),_c('b',{staticStyle:{\"line-height\":\"50px\",\"height\":\"50px\",\"font-size\":\"30px\"}},[_vm._v(_vm._s(_vm.userInfo.user.nickname))]),_vm._v(\" \"),_c('div',{staticClass:\"user_detail\"},[_c('div',{staticClass:\"user_detail_value\"},[_vm._v(_vm._s(_vm.userInfo.user.intro))])])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"activities_div_div user_card\"},[_c('div',{staticStyle:{\"text-align\":\"center\",\"border-bottom\":\"1px solid #ebebeb\"}},[_c('el-menu',{attrs:{\"default-active\":_vm.tabindex,\"mode\":\"horizontal\"},on:{\"select\":_vm.handleSelect}},_vm._l((_vm.menu),function(item,index){return _c('el-menu-item',{key:index,attrs:{\"index\":''+index}},[_c('span',[_vm._v(_vm._s(item))])])}),1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabindex==='0'),expression:\"tabindex==='0'\"},{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"activities_div\",attrs:{\"infinite-scroll-disabled\":\"loading\"}},_vm._l((_vm.activityInfos),function(activityInfo,index){return _c('div',{key:index},[_c('ActivityInfo',{attrs:{\"activityInfo\":activityInfo}}),_vm._v(\" \"),_c('el-divider',{staticClass:\"divider\"})],1)}),0),_vm._v(\" \"),(_vm.tabindex==='1'||_vm.tabindex==='2')?_c('div',{staticClass:\"activities_div\"},_vm._l((_vm.questionActivityInfos),function(activityInfo,index){return _c('div',{key:index},[_c('ActivityInfo',{attrs:{\"activityInfo\":activityInfo}}),_vm._v(\" \"),_c('el-divider',{staticClass:\"divider\"})],1)}),0):_vm._e(),_vm._v(\" \"),(_vm.tabindex==='3')?_c('div',{staticClass:\"activities_div\"},_vm._l((_vm.subscribeQuestions),function(activityInfo,index){return _c('div',{key:index},[_c('ActivityInfo',{attrs:{\"activityInfo\":activityInfo}}),_vm._v(\" \"),_c('el-divider',{staticClass:\"divider\"})],1)}),0):_vm._e(),_vm._v(\" \"),(_vm.tabindex==='4'||_vm.tabindex==='5')?_c('div',[_c('UserInfoTable',{attrs:{\"userInfos\":_vm.userInfos}})],1):_vm._e()]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"chat_dialog\",attrs:{\"visible\":_vm.showChat,\"before-close\":_vm.handleCloseChat},on:{\"update:visible\":function($event){_vm.showChat=$event}}},[(_vm.showChat)?_c('Chat',{attrs:{\"peopleUserInfo\":_vm.userInfo}}):_vm._e()],1)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49105420\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/People.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49105420\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./People.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./People.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./People.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49105420\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./People.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/People.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div\r\n      ref=\"answer\"\r\n      class=\"questionInfo_answer\"\r\n      :style=\"answerStyle\"\r\n      v-html=\"answerInfo.answer.ans\"\r\n    ></div>\r\n    <div v-show=\"!isShowAll\" class=\"hide_all\">\r\n      <el-button @click=\"showAll\" type=\"text\" class=\"showAll_btn\" icon=\"el-icon-arrow-down\">查看全文</el-button>\r\n    </div>\r\n    <div style=\"margin-top:10px;\">\r\n      <attitude :answerInfo=\"answerInfo\"></attitude>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport attitude from \"../components/Attitude\";\r\nexport default {\r\n  name: \"AnswerInfo\",\r\n  components: {\r\n    attitude\r\n  },\r\n  props: [\"answerInfo\"],\r\n  data() {\r\n    return {\r\n      isShowAll: false,\r\n      answerStyle: {\r\n        maxHeight: \"200px\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    var obj = this.$refs.answer;\r\n    if (obj.scrollHeight < 200) {\r\n      this.isShowAll = true;\r\n    }\r\n  },\r\n  methods: {\r\n    showAll() {\r\n      this.isShowAll = true;\r\n      var obj = this.$refs.answer;\r\n      this.answerStyle.maxHeight = obj.scrollHeight + \"px\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.questionInfo_answer {\r\n  clear: both;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.showAll_btn {\r\n  width: 100%;\r\n  color: black;\r\n  text-align: center;\r\n}\r\n.hide_all {\r\n  position: relative;\r\n  height: 50px;\r\n  width: 100%;\r\n  margin-top: -50px;\r\n  margin-left: 0px;\r\n  background-image: linear-gradient(\r\n    -180deg,\r\n    rgba(255, 255, 255, 0) 0%,\r\n    #fff 70%\r\n  );\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/AnswerInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"answer\",staticClass:\"questionInfo_answer\",style:(_vm.answerStyle),domProps:{\"innerHTML\":_vm._s(_vm.answerInfo.answer.ans)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowAll),expression:\"!isShowAll\"}],staticClass:\"hide_all\"},[_c('el-button',{staticClass:\"showAll_btn\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-arrow-down\"},on:{\"click\":_vm.showAll}},[_vm._v(\"查看全文\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('attitude',{attrs:{\"answerInfo\":_vm.answerInfo}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-708e9dbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AnswerInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-708e9dbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AnswerInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AnswerInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AnswerInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-708e9dbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AnswerInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-708e9dbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AnswerInfo.vue\n// module id = null\n// module chunks = ","<template>\n  <div style=\"text-align:left;\">\n    <div style=\"height:30px;line-height:30px;\">\n      <userInfoSmall v-if=\"userInfo\" :userInfo=\"userInfo\" style=\"margin-right:10px;\"></userInfoSmall>\n      <b style=\"float:left;\">{{actionStr}}</b>\n      <span\n        class=\"gmt_create\"\n        style=\"float:right;\"\n      >{{activityInfo.activity.gmtCreate}}</span>\n    </div>\n    <div v-if=\"(!userInfo)&&(hasPeople||hasAnswer||hasQuestion)\" style=\"height:30px;\">\n      <userInfoSmall v-if=\"hasPeople\" :userInfo=\"activityInfo.info\"></userInfoSmall>\n      <userInfoSmall v-else-if=\"hasAnswer\" :userInfo=\"activityInfo.info.defaultAnswer.userInfo\"></userInfoSmall>\n      <userInfoSmall v-else :userInfo=\"activityInfo.info.userInfo\"></userInfoSmall>\n    </div>\n    <div\n      v-if=\"hasQuestion\"\n      @click=\"toQuestion\"\n      class=\"question\"\n      style=\"margin-top:10px;\"\n    >{{activityInfo.info.caption}}</div>\n    <AnswerInfo\n      v-if=\"hasAnswer\"\n      style=\"margin-top:10px;\"\n      :answerInfo=\"activityInfo.info.defaultAnswer\"\n    />\n  </div>\n</template>\n<script>\nimport userInfoSmall from \"../components/UserInfoSmall\";\nimport AnswerInfo from \"../components/AnswerInfo\";\nexport default {\n  name: \"ActivityInfo\",\n  components: {\n    AnswerInfo,\n    userInfoSmall\n  },\n  data() {\n    return {\n      actionStrs: [\n        \"关注了用户\",\n        \"提出了问题\",\n        \"关注了问题\",\n        \"关注了话题\",\n        \"回答了问题\",\n        \"赞同了回答\"\n      ]\n    };\n  },\n  props: [\"activityInfo\"],\n  methods: {\n    toQuestion() {\n      window.open(\n        this.$router.resolve({\n          path: \"/question\",\n          query: {\n            question_id: this.activityInfo.info.question_id,\n            answer_id: this.answer_id\n          }\n        }).href,\n        \"_blank\"\n      );\n    }\n  },\n  computed: {\n    actionStr() {\n      return this.actionStrs[this.activityInfo.activity.act];\n    },\n    hasQuestion() {\n      return [1, 2, 4, 5].indexOf(this.activityInfo.activity.act) != -1;\n    },\n    hasAnswer() {\n      return [4, 5].indexOf(this.activityInfo.activity.act) != -1;\n    },\n    hasPeople() {\n      return this.activityInfo.activity.act === 0;\n    },\n    userInfo() {\n      return this.activityInfo.userInfo;\n    },\n    answerId() {\n      return this.hasAnswer\n        ? this.activityInfo.info.defaultAnswer.answer.answerId\n        : null;\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivityInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticStyle:{\"height\":\"30px\",\"line-height\":\"30px\"}},[(_vm.userInfo)?_c('userInfoSmall',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"userInfo\":_vm.userInfo}}):_vm._e(),_vm._v(\" \"),_c('b',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(_vm.actionStr))]),_vm._v(\" \"),_c('span',{staticClass:\"gmt_create\",staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(_vm.activityInfo.activity.gmtCreate))])],1),_vm._v(\" \"),((!_vm.userInfo)&&(_vm.hasPeople||_vm.hasAnswer||_vm.hasQuestion))?_c('div',{staticStyle:{\"height\":\"30px\"}},[(_vm.hasPeople)?_c('userInfoSmall',{attrs:{\"userInfo\":_vm.activityInfo.info}}):(_vm.hasAnswer)?_c('userInfoSmall',{attrs:{\"userInfo\":_vm.activityInfo.info.defaultAnswer.userInfo}}):_c('userInfoSmall',{attrs:{\"userInfo\":_vm.activityInfo.info.userInfo}})],1):_vm._e(),_vm._v(\" \"),(_vm.hasQuestion)?_c('div',{staticClass:\"question\",staticStyle:{\"margin-top\":\"10px\"},on:{\"click\":_vm.toQuestion}},[_vm._v(_vm._s(_vm.activityInfo.info.caption))]):_vm._e(),_vm._v(\" \"),(_vm.hasAnswer)?_c('AnswerInfo',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"answerInfo\":_vm.activityInfo.info.defaultAnswer}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c9a57390\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivityInfo.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c9a57390\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivityInfo.vue\n// module id = null\n// module chunks = ","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 5PlU\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = Xd32\n// module chunks = 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = d7EF\n// module chunks = 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 1","<template>\r\n  <div>\r\n    <el-card :body-style=\"{ padding: '10px' }\">\r\n      <div v-for=\"userInfo in userInfoDatas\" :key=\"userInfo.user.userId\">\r\n        <userInfo :userInfo=\"userInfo\"></userInfo>\r\n        <el-divider class=\"divider\"></el-divider>\r\n      </div>\r\n      <el-pagination\r\n        :current-page.sync=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total,prev, pager, next, jumper\"\r\n        :total=\"userInfos.length\"\r\n        style=\"text-align:center;\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserInfo from \"../components/UserInfo\";\r\nimport { getUserInfo } from \"@/api/user\";\r\nexport default {\r\n  name: \"UserInfoTable\",\r\n  props: [\"userInfos\"],\r\n  data() {\r\n    return {\r\n      pageSize: 10,\r\n      currentPage: 1\r\n    };\r\n  },\r\n  created() {\r\n    console.log(this.userInfos);\r\n  },\r\n  computed: {\r\n    userInfoDatas() {\r\n      return this.userInfos.slice(\r\n        (this.currentPage - 1) * this.pageSize,\r\n        this.currentPage * this.pageSize\r\n      );\r\n    }\r\n  },\r\n  components: {\r\n    UserInfo\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/UserInfoTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"body-style\":{ padding: '10px' }}},[_vm._l((_vm.userInfoDatas),function(userInfo){return _c('div',{key:userInfo.user.userId},[_c('userInfo',{attrs:{\"userInfo\":userInfo}}),_vm._v(\" \"),_c('el-divider',{staticClass:\"divider\"})],1)}),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"text-align\":\"center\"},attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total,prev, pager, next, jumper\",\"total\":_vm.userInfos.length},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3534e639\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserInfoTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3534e639\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserInfoTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfoTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfoTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3534e639\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserInfoTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3534e639\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserInfoTable.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = us/S\n// module chunks = 1"],"sourceRoot":""}